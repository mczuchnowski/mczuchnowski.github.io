---
layout: post
title: "Quick setup of RSpec testing framework"
tagline: "Using rails_apps_testing gem"
category: quick tips
tags: [ruby on rails, rails 4, rspec]
---
{% include JB/setup %}

This blog post applies only to people who prefer writing tests using RSpec with
Factory Girl and Capybara. It describes a quick way to get your whole testing
framework set up and configured with just one gem and one console command. This
basically automatically sets you up to work with specs as described in
"Everyday Rails Testing with RSpec" book.
<!--break-->

<h2>Prime stack</h2>

Since I always test my apps using the same testing framework setup, I find it
tedious to configure it from scratch every time. Yeah, there are those "Rails
templates", but I don't like them much. And what if the testing framework is the
only part I want generated and configured for me? I was really happy when I
discovered a gem created by Daniel Kehoe (by the way, you should check out his
[RailsApps](http://railsapps.github.io/) tutorials if you're learning Rails)
that automates everything for me and requires little to no modification after
it's done, depending on my current needs.

First, make sure that you generated your new rails app using
```rails new app_name -T```. The ```-T``` part skips the creation of the whole
```test``` folder. If you have that folder already, just delete it. Now add
these to your Gemfile:

{% highlight ruby %}
# Gemfile

group :development do
  gem 'rails_apps_testing'
end

group :development, :test do
  gem 'rspec-rails'
  gem 'factory_girl_rails'
end

group :test do
  gem 'capybara'
  gem 'database_cleaner'
  gem 'launchy'
  gem 'selenium-webdriver'
end
{% endhighlight %}

Do ```bundle install```, run ```rails generate testing:configure rspec``` (with
```--force``` flag if you want existing files to be overwritten).

And you're done! You may want to edit your ```config/application.rb``` file and
set which specs are generated by default when scaffolding or generating things.
By default only model specs are created. The method was successfully tested at
the time of writing of this blog post, with Rails 4.2.1, Ruby 2.2.1, rspec-rails
3.2.1 and rails_apps_testing 0.3.12. 
